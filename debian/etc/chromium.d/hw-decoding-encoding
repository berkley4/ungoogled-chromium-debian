# https://chromium.googlesource.com/chromium/src/+/main/docs/gpu/vaapi.md#vaapi-on-linux
#
# One can also try editing /etc/chromium.d/gpu to enable the following...
#   --ignore-gpu-blocklist
#   --disable-gpu-driver-bug-workaround
#   --ozone-platform-hint=wayland
#
# Note: some of the GL and vulkan flags might not be mutually compatible
#

export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-features=VaapiIgnoreDriverChecks"


### GL
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --use-angle=gl"
export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-features=VaapiVideoDecodeLinuxGL"
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-features=VaapiVideoDecodeLinuxZeroCopyGL"


### VULKAN
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --use-angle=vulkan"
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-features=Vulkan,DefaultANGLEVulkan,VulkanFromANGLE"


# Experimental VA-API support for Nvidia GPUs
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-features=VaapiOnNvidiaGPUs"


# Disable VA-API hardware decoder
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --disable-features=VaapiVideoDecoder"

# Enable VA-API hardware encoder
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-features=VaapiVideoEncoder"


# Disable WebRTC hardware decoding/encoding
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --disable-webrtc-hw-decoding"
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --disable-webrtc-hw-encoding"
