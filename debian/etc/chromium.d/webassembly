# Note: webassembly (wasm) could be a potential security risk. It is used by 
#       the ublock extention, but is not essential for it to run.

# Dynamic Tiering
export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-webassembly-tiering"

# Lazy Compilation
# See - https://v8.dev/docs/wasm-compilation-pipeline
export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-webassembly-lazy-compilation"

# Relaxed SIMD
# Enables the use of WebAssembly vector operations with relaxed semantics
# at the expense of determinism. Seems to be a speed hack.
export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-webassembly-relaxed-simd"

# Garbage Collection (experimental)
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-webassembly-garbage-collection"

# JavaScript Promise Integration (JSPI) [experimental]
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --enable-experimental-webassembly-stack-switching"

# Uncomment to disable websssembly (wasm)
#export CHROMIUM_FLAGS="$CHROMIUM_FLAGS --js-flags=--noexpose_wasm"
